(this["webpackJsonpabstract-art"]=this["webpackJsonpabstract-art"]||[]).push([[0],{20:function(e,t,n){},27:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(9),o=n.n(i),a=(n(20),n(3)),c=n(10);function s(e){return{textSource:e,selected:!1}}var l,u=Object(c.b)({name:"gallery",initialState:{art:[],settings:{highDpiSupport:!0}},reducers:{addArt:function(e,t){e.art.push(s(t.payload.newSource))},editArt:function(e,t){e.art[t.payload.index].textSource=t.payload.newSource},setAllArt:function(e,t){e.art=t.payload.newArt},deleteArt:function(e,t){e.art.splice(t.payload.index,1)},toggleSelected:function(e,t){e.art[t.payload.index].selected=!e.art[t.payload.index].selected},updateSettings:function(e,t){e.settings=t.payload.newSettings}}}),p=u.actions,g=(p.addArt,p.editArt,p.setAllArt),v=(p.deleteArt,p.toggleSelected),f=p.updateSettings,h=function(e){return e.gallery.art},d=function(e){return e.gallery.settings},O=u.reducer,m=(n(27),n(12)),x=n(5),y=n(6);function P(e){return/^\s+$/.test(e)}function _(e){return"("===e}function b(e){return")"===e}!function(e){e.PAREN_OPEN="PAREN_OPEN",e.PAREN_CLOSE="PAREN_CLOSE",e.SYMBOL="SYMBOL"}(l||(l={}));var A=function(){function e(t){Object(x.a)(this,e),this.input=void 0,this.index=void 0,this.input=t,this.index=0}return Object(y.a)(e,[{key:"nextChar",value:function(){if(!(this.index>=this.input.length))return this.input.charAt(this.index++)}},{key:"prevChar",value:function(){if(this.index<=0)throw Error("Scan error: prevChar() attempted on scanner at index ".concat(this.index,"."));this.index--}},{key:"skipWhitespace",value:function(){var e;do{e=this.nextChar()}while(void 0!==e&&P(e));return e}},{key:"nextToken",value:function(){var e=this.skipWhitespace();if(void 0!==e){if(_(e))return{type:l.PAREN_OPEN,val:"("};if(b(e))return{type:l.PAREN_CLOSE,val:")"};for(var t,n,r=!1;!r;){var i=this.nextChar();if(void 0===i||P(i)){r=!0;break}if(_(t=i)||b(t)){this.prevChar(),r=!0;break}e+=i}return n=e,{type:l.SYMBOL,val:n}}}}]),e}(),E=n(11),S=n(8),w=n(2);function j(e,t){return Math.floor(function(e,t){if(t<e)throw new Error("Invalid range [".concat(e,", ").concat(t,")"));return e+Math.random()*(t-e)}(Math.floor(e),Math.floor(t)))}function L(e){return j(0,e)}var k,R=function(){function e(t,n,r){Object(x.a)(this,e),this.type=void 0,this.name=void 0,this.args=void 0,this.size=void 0,this.type=t,this.name=n,this.args=r,this.size=r.map((function(e){return e.size})).reduce((function(e,t){return e+t}),1)}return Object(y.a)(e,[{key:"toString",value:function(){return this.flatten().map((function(e){return e.name})).join(" ")}},{key:"mapArgs",value:function(t){return new e(this.type,this.name,this.args.map((function(e){return t(e)})))}},{key:"findPath",value:function(e){if(!(e<0||e>=this.size)){if(0===e)return[0];var t,n=e-1,r=1,i=Object(S.a)(this.args);try{var o=function(){var e=t.value,i=r,o=e.findPath(n);if(void 0!==o){var a=o.map((function(e){return e+i}));return{v:[0].concat(Object(E.a)(a))}}n-=e.size,r+=e.size};for(i.s();!(t=i.n()).done;){var a=o();if("object"===typeof a)return a.v}}catch(c){i.e(c)}finally{i.f()}}}},{key:"nearestCommonAncestor",value:function(e,t){var n=this.findPath(e),r=this.findPath(t);if(void 0!==n&&void 0!==r){for(var i=r.length-1,o=n.length-1;o>=0;o--){for(;i>0&&r[i]>n[o];)i--;if(n[o]===r[i])return n[o]}return 0}}},{key:"flatten",value:function(){return w.a.of(this).concat(this.args.flatMap((function(e){return e.flatten()})))}},{key:"get",value:function(e){return this.flatten().get(e)}},{key:"set",value:function(t,n){if(t<0||t>=this.size)return this;if(0===t)return n;var r,i=t-1,o=[],a=Object(S.a)(this.args);try{for(a.s();!(r=a.n()).done;){var c=r.value;o.push(c.set(i,n)),i-=c.size}}catch(s){a.e(s)}finally{a.f()}return new e(this.type,this.name,w.a.of.apply(w.a,o))}},{key:"randomSubExpression",value:function(){return L(this.size)}},{key:"randomSubExpressionAncestorBiased",value:function(){var e=L(this.size),t=L(this.size);return this.nearestCommonAncestor(e,t)}}]),e}();function C(e){return function(t){return e}}function N(e){return function(t){return"".concat(e,"(").concat(t.args.map((function(e){return I(e)})).join(", "),")")}}function T(e){return function(t){return"(".concat(t.args.map((function(e){return I(e)})).join(e),")")}}function I(e){return F(e.type).glslEmitter(e)}!function(e){e.CONST="CONST",e.VAR_X="VAR_X",e.VAR_Y="VAR_Y",e.VAR_T="VAR_T",e.OP_INV="OP_INV",e.OP_ABS="OP_ABS",e.OP_SQRT="OP_SQRT",e.OP_EXP="OP_EXP",e.OP_LN="OP_LN",e.OP_SIN="OP_SIN",e.OP_COS="OP_COS",e.OP_TAN="OP_TAN",e.OP_FLOOR="OP_FLOOR",e.OP_CEIL="OP_CEIL",e.OP_ROUND="OP_ROUND",e.OP_TRUNC="OP_TRUNC",e.OP_CLIP="OP_CLIP",e.OP_WRAP="OP_WRAP",e.OP_USHIFT="OP_USHIFT",e.OP_BW="OP_BW",e.OP_ADD="OP_ADD",e.OP_SUB="OP_SUB",e.OP_MUL="OP_MUL",e.OP_DIV="OP_DIV",e.OP_MOD="OP_MOD",e.OP_DOT="OP_DOT",e.OP_CROSS="OP_CROSS",e.OP_POW="OP_POW",e.OP_LOG="OP_LOG",e.OP_MIN="OP_MIN",e.OP_MAX="OP_MAX",e.OP_NOISE2D="OP_NOISE2D",e.OP_BLEND="OP_BLEND",e.OP_RGB="OP_RGB"}(k||(k={}));var D=w.a.of({type:k.CONST,numArgs:0,tokenRegExp:/^-?\d+(\.\d+)?$/,glslEmitter:function(e){return"vec3(".concat(e.name,", ").concat(e.name,", ").concat(e.name,")")}},{type:k.VAR_X,numArgs:0,tokenLiteral:"x",glslEmitter:C("x")},{type:k.VAR_Y,numArgs:0,tokenLiteral:"y",glslEmitter:C("y")},{type:k.VAR_T,numArgs:0,tokenLiteral:"t",glslEmitter:C("t")},{type:k.OP_INV,numArgs:1,tokenLiteral:"inv",glslEmitter:N("inv")},{type:k.OP_ABS,numArgs:1,tokenLiteral:"abs",glslEmitter:N("abs")},{type:k.OP_SQRT,numArgs:1,tokenLiteral:"sqrt",glslEmitter:N("sqrt")},{type:k.OP_EXP,numArgs:1,tokenLiteral:"exp",glslEmitter:N("exp")},{type:k.OP_LN,numArgs:1,tokenLiteral:"ln",glslEmitter:N("log")},{type:k.OP_SIN,numArgs:1,tokenLiteral:"sin",glslEmitter:N("sin")},{type:k.OP_COS,numArgs:1,tokenLiteral:"cos",glslEmitter:N("cos")},{type:k.OP_TAN,numArgs:1,tokenLiteral:"tan",glslEmitter:N("tan")},{type:k.OP_FLOOR,numArgs:1,tokenLiteral:"floor",glslEmitter:N("floor")},{type:k.OP_CEIL,numArgs:1,tokenLiteral:"ceil",glslEmitter:N("ceil")},{type:k.OP_ROUND,numArgs:1,tokenLiteral:"round",glslEmitter:N("round")},{type:k.OP_TRUNC,numArgs:1,tokenLiteral:"trunc",glslEmitter:N("trunc")},{type:k.OP_CLIP,numArgs:1,tokenLiteral:"clip",glslEmitter:N("clip")},{type:k.OP_WRAP,numArgs:1,tokenLiteral:"wrap",glslEmitter:N("wrap")},{type:k.OP_USHIFT,numArgs:1,tokenLiteral:"ushift",glslEmitter:N("ushift")},{type:k.OP_BW,numArgs:1,tokenLiteral:"bw",glslEmitter:N("bw")},{type:k.OP_ADD,numArgs:2,tokenLiteral:"+",glslEmitter:T("+")},{type:k.OP_SUB,numArgs:2,tokenLiteral:"-",glslEmitter:T("-")},{type:k.OP_MUL,numArgs:2,tokenLiteral:"*",glslEmitter:T("*")},{type:k.OP_DIV,numArgs:2,tokenLiteral:"/",glslEmitter:T("/")},{type:k.OP_MOD,numArgs:2,tokenLiteral:"%",glslEmitter:N("mod")},{type:k.OP_DOT,numArgs:2,tokenLiteral:"dot",glslEmitter:N("dotp")},{type:k.OP_CROSS,numArgs:2,tokenLiteral:"cross",glslEmitter:N("cross")},{type:k.OP_POW,numArgs:2,tokenLiteral:"pow",glslEmitter:N("pow")},{type:k.OP_LOG,numArgs:2,tokenLiteral:"log",glslEmitter:N("logb")},{type:k.OP_MIN,numArgs:2,tokenLiteral:"min",glslEmitter:N("min")},{type:k.OP_MAX,numArgs:2,tokenLiteral:"max",glslEmitter:N("max")},{type:k.OP_NOISE2D,numArgs:2,tokenLiteral:"noise2d",glslEmitter:N("snoise2d")},{type:k.OP_BLEND,numArgs:3,tokenLiteral:"blend",glslEmitter:N("blend")},{type:k.OP_RGB,numArgs:3,tokenLiteral:"rgb",glslEmitter:N("rgb")}).toMap().mapKeys((function(e,t){return t.type}));function F(e){return D.get(e)}var B=D.filter((function(e,t){return void 0!==e.tokenLiteral})).mapKeys((function(e,t){return t.tokenLiteral})),M=D.entrySeq().map((function(e){var t=Object(m.a)(e,2);t[0];return t[1]})).filter((function(e){return void 0!==e.tokenRegExp})).toList();function U(e){var t=new z(e),n=t.parseExpression();return t.expectEnd(),n}var z=function(){function e(t){Object(x.a)(this,e),this.scanner=void 0,this.scanner=new A(t)}return Object(y.a)(e,[{key:"expectEnd",value:function(){var e=this.scanner.nextToken();if(void 0!==e)throw Error('Parse error: Expected end of expression, found "'.concat(e.val,'"'))}},{key:"expectAndConsume",value:function(e){var t=this.scanner.nextToken();if(void 0===t)throw Error("Parse error: Expected token of type ".concat(e,", found none."));if(t.type!==e)throw Error("Parse error: Expected token of type ".concat(e,", found token of type ").concat(t.type,"."))}},{key:"parseExpression",value:function(){var e=this.scanner.nextToken();if(void 0===e)throw Error("Parse error: Expected expression, found none.");if(e.type===l.PAREN_OPEN){var t=this.parseExpression();return this.expectAndConsume(l.PAREN_CLOSE),t}if(e.type===l.SYMBOL){var n=function(e){var t=B.get(e);if(void 0!==t)return t;var n,r=Object(S.a)(M);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.tokenRegExp.test(e))return i}}catch(o){r.e(o)}finally{r.f()}}(e.val);if(void 0===n)throw new Error('Parse error: Unrecognized symbol: "'.concat(e.val,'"'));for(var r=[],i=0;i<n.numArgs;i++)r.push(this.parseExpression());return new R(n.type,e.val,w.a.of.apply(w.a,r))}throw Error("Parse error: Unexpected token: ".concat(e,"."))}}]),e}();function G(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)?r:(console.error("Failed to compile ".concat(t===e.FRAGMENT_SHADER?"FRAGMENT_SHADER":t===e.VERTEX_SHADER?"VERTEX_SHADER":"UNKNOWN SHADER TYPE",":")),console.error(n),console.error(e.getShaderInfoLog(r)),e.deleteShader(r),null)}var V=n(1);function H(e){var t=Object(r.createRef)(),n=Object(r.useState)(null),i=Object(m.a)(n,2),o=i[0],c=i[1],s=Object(a.c)(d),l=Object(a.b)(),u=e.getGlContext(),p=e.art.textSource,g=e.getTime;return Object(r.useEffect)((function(){if(null!==u){console.log("Recompiling...");var e=U(p),t="#define F_PI 3.14159\n#define F_TAU 6.28318\n#define F_E 2.71828\n#define F_PHI 1.61803\n\n#define PI vec3(F_PI, F_PI, F_PI)\n#define TAU vec3(F_TAU, F_TAU, F_TAU)\n#define E vec3(F_E, F_E, F_E)\n#define PHI vec3(F_PHI, F_PHI, F_PHI)\n\nprecision highp float;\n\n// (x, y) coordinates expected to be varying from [-1, 1]\nvarying vec2 pos;\n// time expected to be varying from [0, 1]\nuniform float time;\n\nfloat rand(vec2 c){\n    return fract(sin(dot(c.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : stegu\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//               https://github.com/stegu/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n    return mod289(((x*34.0)+10.0)*x);\n}\n\nfloat snoise(vec2 v) {\n    const vec4 C = vec4(0.211324865405187, // (3.0-sqrt(3.0))/6.0\n    0.366025403784439, // 0.5*(sqrt(3.0)-1.0)\n    -0.577350269189626, // -1.0 + 2.0 * C.x\n    0.024390243902439);// 1.0 / 41.0\n    // First corner\n    vec2 i  = floor(v + dot(v, C.yy));\n    vec2 x0 = v -   i + dot(i, C.xx);\n\n    // Other corners\n    vec2 i1;\n    //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n    //i1.y = 1.0 - i1.x;\n    i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n    // x0 = x0 - 0.0 + 0.0 * C.xx ;\n    // x1 = x0 - i1 + 1.0 * C.xx ;\n    // x2 = x0 - 1.0 + 2.0 * C.xx ;\n    vec4 x12 = x0.xyxy + C.xxzz;\n    x12.xy -= i1;\n\n    // Permutations\n    i = mod289(i);// Avoid truncation effects in permutation\n    vec3 p = permute(permute(i.y + vec3(0.0, i1.y, 1.0))\n    + i.x + vec3(0.0, i1.x, 1.0));\n\n    vec3 m = max(0.5 - vec3(dot(x0, x0), dot(x12.xy, x12.xy), dot(x12.zw, x12.zw)), 0.0);\n    m = m*m;\n    m = m*m;\n\n    // Gradients: 41 points uniformly over a line, mapped onto a diamond.\n    // The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n    vec3 x = 2.0 * fract(p * C.www) - 1.0;\n    vec3 h = abs(x) - 0.5;\n    vec3 ox = floor(x + 0.5);\n    vec3 a0 = x - ox;\n\n    // Normalise gradients implicitly by scaling m\n    // Approximation of: m *= inversesqrt( a0*a0 + h*h );\n    m *= 1.79284291400159 - 0.85373472095314 * (a0*a0 + h*h);\n\n    // Compute final noise value at P\n    vec3 g;\n    g.x  = a0.x  * x0.x  + h.x  * x0.y;\n    g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n    return 130.0 * dot(m, g);\n}\n\n// End Simplex noise from https://github.com/stegu/webgl-noise\n\nvec3 snoise2d(vec3 a, vec3 b) {\n    return vec3(snoise(vec2(a.x, b.x)), snoise(vec2(a.y, b.y)), snoise(vec2(a.z, b.z)));\n}\n\nvec3 expression(vec3 x, vec3 y, vec3 t);\n\nvec3 inv(vec3 v) {\n    return -v;\n}\n\nvec3 dotp(vec3 a, vec3 b) {\n    return vec3(dot(a, b));\n}\n\nvec3 logb(vec3 x, vec3 b) {\n    return log(x) / log(b);\n}\n\nvec3 round(vec3 v) {\n    return floor(0.5 + v);\n}\n\nvec3 trunc(vec3 v) {\n    return vec3(int(v.x), int(v.y), int(v.z));\n}\n\nvec3 clip(vec3 v) {\n    return max(min(v, 1.0), -1.0);\n}\n\nvec3 wrap(vec3 v) {\n    return mod(v + 1.0, vec3(3.0)) - 1.0;\n}\n\nvec3 ushift(vec3 v) {\n    return (v + 1.0) / 2.0;\n}\n\n// fac * a + (1 - fac) * b\n// TODO: Consider clipping fac to [0, 1]\nvec3 blend(vec3 a, vec3 b, vec3 fac) {\n    return (fac * a) + ((vec3(1.0) - fac) * b);\n}\n\nvec3 rgb(vec3 r, vec3 g, vec3 b) {\n    return vec3(r.x, g.x, b.x);\n}\n\nvec3 bw(vec3 rgb) {\n    return vec3(0.3 * rgb.x + 0.59 * rgb.y + 0.11 * rgb.z);\n}\n\nvoid main() {\n    vec3 x = vec3(pos.x);\n    vec3 y = vec3(pos.y);\n    vec3 t = vec3(time, time, time);\n    vec3 rgb = expression(x, y, t);\n    gl_FragColor = vec4(rgb, 1.0);\n}"+"\nvec3 expression(vec3 x, vec3 y, vec3 t) {\n    return ".concat(I(e),";\n}\n");c(function(e,t,n){var r=e.createProgram(),i=G(e,e.VERTEX_SHADER,n||"precision highp float;\n\nattribute vec2 xy_pos;\nvarying vec2 pos;\nvoid main() {\n    pos = xy_pos;\n    gl_Position = vec4(xy_pos, 0, 1);\n}"),o=G(e,e.FRAGMENT_SHADER,t||"precision highp float;\n\nvoid main() {\n    gl_FragColor = vec4(1, 0, 1, 1);\n}");return i&&o?(e.attachShader(r,i),e.attachShader(r,o),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS)?r:(console.error("Failed to create GL program:"),console.error(e.getProgramInfoLog(r)),e.deleteProgram(r),null)):(e.deleteProgram(r),null)}(u,t))}}),[u,p]),Object(r.useEffect)((function(){if(null!==u){var e=u.canvas,n=0;return n=requestAnimationFrame((function r(){if(null!==t.current){var i=t.current.getBoundingClientRect();if(!(i.bottom<0||i.top>e.clientHeight||i.right<0||i.left>e.clientWidth)){var a=i.right-i.left,c=i.bottom-i.top,l=i.left,p=e.clientHeight-i.bottom,v=s.highDpiSupport&&window.devicePixelRatio||1;u.viewport(l*v,p*v,a*v,c*v),u.scissor(l*v,p*v,a*v,c*v),u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT),u.useProgram(o);var f=u.getUniformLocation(o,"time");u.uniform1f(f,g());var h=u.getAttribLocation(o,"xy_pos");u.vertexAttribPointer(h,2,u.FLOAT,!1,0,0),u.enableVertexAttribArray(h),u.drawArrays(u.TRIANGLE_STRIP,0,4)}n=requestAnimationFrame(r)}})),function(){cancelAnimationFrame(n)}}}),[s.highDpiSupport,t,u,o,g]),Object(V.jsx)("div",{className:"ArtFrame"+(e.art.selected?" Selected":" Deselected"),children:Object(V.jsx)("div",{ref:t,className:"ArtFrameClickTarget",onClick:function(){return l(v({index:e.index}))}})})}var W=[{type:k.CONST,weight:1},{type:k.VAR_X,weight:1},{type:k.VAR_Y,weight:1},{type:k.VAR_T,weight:2},{type:k.OP_INV,weight:1},{type:k.OP_ABS,weight:1},{type:k.OP_ADD,weight:1},{type:k.OP_SUB,weight:1},{type:k.OP_MUL,weight:1},{type:k.OP_DIV,weight:1},{type:k.OP_MOD,weight:1},{type:k.OP_DOT,weight:1},{type:k.OP_CROSS,weight:1},{type:k.OP_SQRT,weight:1},{type:k.OP_POW,weight:1},{type:k.OP_EXP,weight:1},{type:k.OP_LOG,weight:1},{type:k.OP_LN,weight:1},{type:k.OP_SIN,weight:1},{type:k.OP_COS,weight:1},{type:k.OP_TAN,weight:1},{type:k.OP_FLOOR,weight:1},{type:k.OP_CEIL,weight:1},{type:k.OP_ROUND,weight:1},{type:k.OP_TRUNC,weight:1},{type:k.OP_MIN,weight:1},{type:k.OP_MAX,weight:1},{type:k.OP_CLIP,weight:1},{type:k.OP_WRAP,weight:1},{type:k.OP_USHIFT,weight:1},{type:k.OP_BLEND,weight:1},{type:k.OP_RGB,weight:2},{type:k.OP_BW,weight:1},{type:k.OP_NOISE2D,weight:2}];function X(e){for(var t=[e[0]],n=1;n<e.length;n++)t.push({type:e[n].type,weight:t[n-1].weight+e[n].weight});return t}var Y=X(W),q=function(e){if(0===e.length)return[[]];for(var t=[],n=Math.max.apply(Math,Object(E.a)(e.map((function(e){return F(e.type).numArgs})))),r=function(e){var n=X(W.filter((function(t){var n;return(null===(n=F(t.type))||void 0===n?void 0:n.numArgs)===e})));t.push(n)},i=0;i<=n;i++)r(i);return t}(W);function K(e){if(0!==e.length){for(var t=e[e.length-1].weight,n=Math.random()*t,r=0;r<e.length;r++)if(n<=e[r].weight)return e[r].type;throw new Error("Whoops, fell through chooseWeighted.")}}function Q(e,t){var n=Math.random()*Math.abs(t-e)+Math.min(e,t);return new R(k.CONST,n.toString(),w.a.of())}function J(e){if(e<=0)throw new Error("Invalid random expression depth.");var t,n=F(t=K(1===e?q[0]:Y));if(void 0===n.tokenLiteral)return Q(-10,10);for(var r=[],i=0;i<n.numArgs;i++)r.push(J(e-1));return new R(t,n.tokenLiteral,w.a.of.apply(w.a,r))}function $(e,t){var n=e.randomSubExpressionAncestorBiased(),r=t.randomSubExpressionAncestorBiased();return e.set(n,t.get(r))}function Z(e){var t=Math.random(),n=e;return t<.99||t<1&&(n=function(e){var t=K(q[e.args.size]);if(void 0===t)return e;var n=F(t);if(n.numArgs!==e.args.size)throw new Error("Arity mismatch during substitution mutation.");return void 0===n.tokenLiteral?Q(-10,10):new R(t,n.tokenLiteral,e.args)}(e)),n.mapArgs(Z)}function ee(e){var t=Object(r.useRef)(0),n=Object(a.c)(d),i=Object(a.c)(h),o=Object(a.c)(h).map((function(n,r){return Object(V.jsx)(H,{art:n,index:r,getTime:function(){return t.current},getGlContext:e.getGlContext})})),c=Object(a.b)(),l=e.getGlContext();return Object(r.useEffect)((function(){if(null!==l){var e=0,r=performance.now(),i=l.canvas,o=l.createBuffer(),a=new Float32Array([-1,1,-1,-1,1,1,1,-1]);return l.bindBuffer(l.ARRAY_BUFFER,o),l.bufferData(l.ARRAY_BUFFER,a,l.STATIC_DRAW),e=requestAnimationFrame((function o(){t.current=(performance.now()-r)/1e3/5%1,function(e,t){var n=t&&window.devicePixelRatio||1,r=e.clientWidth*n,i=e.clientHeight*n,o=e.width!==r||e.height!==i;o&&(e.width=r,e.height=i)}(i,n.highDpiSupport),l.enable(l.CULL_FACE),l.enable(l.DEPTH_TEST),l.enable(l.SCISSOR_TEST),l.canvas.style.transform="translateY(".concat(window.scrollY,"px) translateX(").concat(window.scrollX,"px)"),e=requestAnimationFrame(o)})),function(){cancelAnimationFrame(e)}}}),[l,n.highDpiSupport]),Object(V.jsxs)("div",{className:"Gallery",children:[Object(V.jsx)("div",{className:"Instructions",children:Object(V.jsxs)("div",{children:['Select expressions you like by clicking on them. Press "Breed selected" to breed the selected expressions together randomly.',Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),'If you don\'t like any of the expressions then press "Start over" to get new ones.',Object(V.jsx)("br",{}),Object(V.jsx)("br",{})]})}),Object(V.jsxs)("div",{className:"Controls",style:{display:"flex"},children:[Object(V.jsx)("button",{onClick:function(){c(g({newArt:te()}))},children:"Start over"}),Object(V.jsx)("button",{onClick:function(){var e=i.filter((function(e,t){return e.selected})).map((function(e){return U(e.textSource)}));if(0!==e.length){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;t<0&&(t=e.length);for(var n=[],r=0;r<t;r++){var i=e[L(e.length)],o=e[L(e.length)];n.push(Z($(i,o)))}return n}(e,i.length).map((function(e,t){return s(e.toString())}));c(g({newArt:t}))}},children:"Breed selected"})]}),Object(V.jsx)("div",{className:"GalleryFlow",style:{display:"flex",flexWrap:"wrap"},children:o.map((function(e,t){return Object(V.jsx)("div",{children:e},t.toString())}))})]})}n(29);function te(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t=[],n=0;n<e;n++)t.push(s(J(6).toString()));return t}function ne(){var e=Object(r.useRef)(null),t=Object(a.c)(d),n=Object(a.b)();return Object(r.useEffect)((function(){n(g({newArt:te()}))}),[n]),Object(V.jsxs)("div",{children:[Object(V.jsx)("canvas",{ref:e,id:"glCanvas"}),Object(V.jsx)(ee,{getGlContext:function(){return null===e.current?null:e.current.getContext("webgl",{antialias:!1})}}),Object(V.jsxs)("div",{children:[Object(V.jsx)("i",{children:'"This art may not make sense to you. It makes Ness sleepy just thinking about it. Use Paralysis to knock some sense into the painting."'}),Object(V.jsx)("br",{}),"\u2014 EarthBound Player's Guide"]}),Object(V.jsx)("br",{}),Object(V.jsx)("div",{style:{color:"yellow"},children:"UX developer wanted :)"}),Object(V.jsx)("div",{style:{color:"blue"},children:Object(V.jsx)("a",{href:"https://github.com/mbh95/abstract-art",children:"GitHub repo"})}),Object(V.jsx)("input",{type:"checkbox",name:"highdpi",onChange:function(e){return n(f({newSettings:{highDpiSupport:e.target.checked}}))},checked:t.highDpiSupport}),Object(V.jsx)("label",{htmlFor:"highdpi",children:"High DPI Support"})]})}var re=Object(c.a)({reducer:{gallery:O}});o.a.render(Object(V.jsx)(a.a,{store:re,children:Object(V.jsx)(ne,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.fd29ec05.chunk.js.map